{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h2>My Bookings</h2>
        <p class="text-muted">View and manage your temple visit bookings</p>
    </div>
</div>

{% if bookings %}
<div class="row">
    {% for booking in bookings %}
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h6 class="mb-0">{{ booking.temple.name if booking.temple else 'Temple Visit' }}</h6>
                <span class="badge bg-success">Confirmed</span>
            </div>
            <div class="card-body">
                <p><i class="bi bi-geo-alt"></i> {{ booking.temple.location if booking.temple else 'Gujarat, India' }}</p>
                <p><i class="bi bi-calendar"></i> {{ booking.date.strftime('%B %d, %Y') }}</p>
                <p><i class="bi bi-clock"></i> {{ booking.time_slot }}</p>
                <p><i class="bi bi-people"></i> {{ booking.persons }} person{{ 's' if booking.persons > 1 else '' }}</p>
                <p><i class="bi bi-currency-rupee"></i> â‚¹50</p>
                {% if booking.confirmation_id %}
                <p><i class="bi bi-check-circle"></i> Confirmation: <code>{{ booking.confirmation_id }}</code></p>
                {% endif %}
                <small class="text-muted">Booked on: {{ booking.created_at.strftime('%B %d, %Y at %I:%M %p') }}</small>
            </div>
            <div class="card-footer">
                <a href="{{ url_for('temple_detail', temple_id=booking.temple_id) if booking.temple_id else url_for('temples') }}" class="btn btn-outline-primary btn-sm">View Temple</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="text-center py-5">
    <i class="bi bi-calendar-x fs-1 text-muted"></i>
    <h4 class="mt-3">No Bookings Yet</h4>
    <p class="text-muted">You haven't made any temple bookings yet.</p>
    <a href="{{ url_for('temples') }}" class="btn btn-primary">Explore Temples</a>
</div>
{% endif %}
{% endblock %}